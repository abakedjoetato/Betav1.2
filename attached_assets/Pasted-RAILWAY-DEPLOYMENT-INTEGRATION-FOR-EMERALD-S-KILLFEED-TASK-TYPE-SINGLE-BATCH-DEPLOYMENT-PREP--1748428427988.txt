RAILWAY DEPLOYMENT INTEGRATION FOR EMERALD‚ÄôS KILLFEED

üß© TASK TYPE: SINGLE BATCH DEPLOYMENT PREP

> This task is atomic ‚Äî no output, commits, or checkpoints until Railway readiness is 100% complete and validated.
This is not exploratory ‚Äî all work must succeed on the first pass.




---

# [PHASE 0] ‚Äî DEPLOYMENT PREP FOR RAILWAY (REQUIRED)

‚úÖ TASK OBJECTIVE

Prepare the Discord bot project to deploy cleanly and securely to Railway‚Äôs Node/Service hosting infrastructure. This requires updating the file structure, environment handling, and entry logic.


---

üîß REQUIRED STEPS

1. Project Sanity Check

Ensure the bot compiles and runs in its current Replit environment

Verify no lingering compilation errors, missing modules, or startup blockers



2. Railway-Compatible Entry Point

Ensure the bot‚Äôs main script is named and structured for Railway deployment (main.py or start.py)

Add if __name__ == "__main__" block in main entrypoint if missing



3. Process Manager

Use a Procfile with the following content:

worker: python3 main.py



4. Environment Variables

Read all required secrets from os.environ only (no dev_secrets.json, .env, or hardcoded config)

Required variables:

BOT_TOKEN

MONGO_URI

TIP4SERV_KEY (if still used)

RAILWAY_ENV (optional flag for environment-specific behaviors)




5. Remove Replit-Only Files

Delete .replit, replit.nix, .replitdev, .replitpackager.json, etc.

Replace all Replit-specific behavior with generalized startup logic



6. Dependency File Audit

Ensure requirements.txt is present and includes all required libraries:

py-cord==2.6.1

motor

asyncssh

python-dotenv (optional)


Ensure no Replit-exclusive dependencies (e.g., replit, flask, if unused)



7. Logging & Lifecycle

Confirm the bot exits gracefully if BOT_TOKEN or MONGO_URI is missing

Add startup logs: Bot connected to Discord as {bot.user}



8. Multi-Environment Awareness

Detect and log whether running in Railway by checking for RAILWAY_ENV variable

Suppress non-critical warnings in production if applicable





---

‚úÖ COMPLETION CRITERIA

[ ] Project runs cleanly on Railway using python3 main.py

[ ] Secrets are fully moved to os.environ

[ ] Procfile is present and formatted correctly

[ ] No Replit-exclusive logic remains

[ ] All dependency files reflect accurate, minimal production requirements

[ ] Logging is present, and startup success is visible

[ ] No manual steps remain to ‚Äúprepare‚Äù for deployment ‚Äî this project is now deploy-ready



---

üö® EXECUTION RULES

Treat this as ONE single task ‚Äî no mid-task logs, no checkpoints

EmbedFactory usage must not be modified

py-cord 2.6.1 must be preserved

Multi-guild and multi-server logic must remain intact